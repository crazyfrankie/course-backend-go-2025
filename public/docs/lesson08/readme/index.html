<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-cn" class="no-js">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Redis 和 MongoDB | Go 后端开发教程</title>
<meta name="description" content="Redis 和 MongoDB">
<meta property="og:url" content="http://localhost:1313/docs/lesson08/readme/">
  <meta property="og:site_name" content="Go 后端开发教程">
  <meta property="og:title" content="Redis 和 MongoDB">
  <meta property="og:description" content="Redis 和 MongoDB">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-08-24T18:25:34+08:00">

  <meta itemprop="name" content="Redis 和 MongoDB">
  <meta itemprop="description" content="Redis 和 MongoDB">
  <meta itemprop="dateModified" content="2025-08-24T18:25:34+08:00">
  <meta itemprop="wordCount" content="2580">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Redis 和 MongoDB">
  <meta name="twitter:description" content="Redis 和 MongoDB">
<link href="/scss/main.css" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">Go 后端开发教程</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/"><span>课程首页</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/docs/"><span>课程文档</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/CrazyForCode/course-backend-go-2025" target="_blank" rel="noopener"><span>GitHub</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="td-sidebar-nav collapse" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="/docs/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">课程文档</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson00e4bb8e-0-e5bc80e5a78be5ada6-go-li">
  <a href="/docs/lesson00/%E4%BB%8E-0-%E5%BC%80%E5%A7%8B%E5%AD%A6-go/" title="从 0 开始学 Go" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson00e4bb8e-0-e5bc80e5a78be5ada6-go"><span class="">第0课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson01e8939de5b1b1e5b7a5e4bd9ce5aea4golange7acace4b880e88a82e8afbe-li">
  <a href="/docs/lesson01/%E8%93%9D%E5%B1%B1%E5%B7%A5%E4%BD%9C%E5%AE%A4golang%E7%AC%AC%E4%B8%80%E8%8A%82%E8%AF%BE/" title="基础语法" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson01e8939de5b1b1e5b7a5e4bd9ce5aea4golange7acace4b880e88a82e8afbe"><span class="">第1课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson0202-li">
  <a href="/docs/lesson02/02/" title="数组和切片" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson0202"><span class="">第2课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson03e7acace4b889e591a8e8afbee4bbb6-li">
  <a href="/docs/lesson03/%E7%AC%AC%E4%B8%89%E5%91%A8%E8%AF%BE%E4%BB%B6/" title="包、指针、结构体和接口" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson03e7acace4b889e591a8e8afbee4bbb6"><span class="">第3课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson04e5908ee7abaf-go-e7acace59b9be6aca1e8afbe-li">
  <a href="/docs/lesson04/%E5%90%8E%E7%AB%AF-go-%E7%AC%AC%E5%9B%9B%E6%AC%A1%E8%AF%BE/" title="后端 Go 第四次课" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson04e5908ee7abaf-go-e7acace59b9be6aca1e8afbe"><span class="">第4课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson05e5b9b6e58f91-li">
  <a href="/docs/lesson05/%E5%B9%B6%E5%8F%91/" title="并发编程" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson05e5b9b6e58f91"><span class="">第5课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson06readme-li">
  <a href="/docs/lesson06/readme/" title="HTTP 服务简单案例" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson06readme"><span class="">第6课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson07lesson7-li">
  <a href="/docs/lesson07/lesson7/" title="MySQL 数据库" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson07lesson7"><span class="">第7课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docslesson08readme-li">
  <a href="/docs/lesson08/readme/" title="Redis 和 MongoDB" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-docslesson08readme"><span class="td-sidebar-nav-active-item">第8课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson09readme-li">
  <a href="/docs/lesson09/readme/" title="第九课" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson09readme"><span class="">第9课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson10docker-li">
  <a href="/docs/lesson10/docker/" title="Docker 容器化" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson10docker"><span class="">第10课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson11readme-li">
  <a href="/docs/lesson11/readme/" title="单体架构实战" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson11readme"><span class="">第11课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson12e6b688e681afe9989fe58897-li">
  <a href="/docs/lesson12/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" title="第十二课" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson12e6b688e681afe9989fe58897"><span class="">第12课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson13lesson13-li">
  <a href="/docs/lesson13/lesson13/" title="微服务入门" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson13lesson13"><span class="">第13课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson14lesson14-li">
  <a href="/docs/lesson14/lesson14/" title="Go-zero 微服务" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson14lesson14"><span class="">第14课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson15readme-li">
  <a href="/docs/lesson15/readme/" title="第十五课" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson15readme"><span class="">第15课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson16readme-li">
  <a href="/docs/lesson16/readme/" title="负载均衡" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson16readme"><span class="">第16课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson17e5908ee7abaf-go-e7acace58d81e4b883e6aca1e8afbe-li">
  <a href="/docs/lesson17/%E5%90%8E%E7%AB%AF-go-%E7%AC%AC%E5%8D%81%E4%B8%83%E6%AC%A1%E8%AF%BE/" title="第十七课" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson17e5908ee7abaf-go-e7acace58d81e4b883e6aca1e8afbe"><span class="">第17课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson18e58886e5b883e5bc8fe59fbae7a180-li">
  <a href="/docs/lesson18/%E5%88%86%E5%B8%83%E5%BC%8F%E5%9F%BA%E7%A1%80/" title="第十八课" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson18e58886e5b883e5bc8fe59fbae7a180"><span class="">第18课</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docslesson09example2baidu-li">
  <a href="/docs/lesson09/example2/baidu/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docslesson09example2baidu"><span class=""></span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/CrazyForCode/course-backend-go-2025/tree/main/content/docs/lesson08/README.md" class="td-page-meta--view td-page-meta__view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
  <a href="https://github.com/CrazyForCode/course-backend-go-2025/edit/main/content/docs/lesson08/README.md" class="td-page-meta--edit td-page-meta__edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
  <a href="https://github.com/CrazyForCode/course-backend-go-2025/new/main/content/docs/lesson08?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child td-page-meta__child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
  <a href="https://github.com/CrazyForCode/course-backend-go-2025/issues/new?title=Redis%20%e5%92%8c%20MongoDB" class="td-page-meta--issue td-page-meta__issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
  
</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#非关系型数据库">非关系型数据库</a></li>
    <li><a href="#redis">Redis</a></li>
    <li><a href="#redis数据类型和命令">Redis数据类型和命令</a>
      <ul>
        <li><a href="#基本命令"><strong>基本命令</strong></a></li>
        <li><a href="#字符串">字符串</a></li>
        <li><a href="#列表">列表</a></li>
        <li><a href="#哈希">哈希</a></li>
        <li><a href="#集合">集合</a></li>
        <li><a href="#有序集合">有序集合</a></li>
        <li><a href="#位图">位图</a></li>
        <li><a href="#geo">GEO</a></li>
        <li><a href="#设计和使用规范">设计和使用规范</a></li>
        <li><a href="#缓存策略">缓存策略</a></li>
      </ul>
    </li>
    <li><a href="#mongodb">mongodb</a>
      <ul>
        <li><a href="#数据存储结构">数据存储结构</a></li>
        <li><a href="#mongodb-数据类型">MongoDB 数据类型</a></li>
      </ul>
    </li>
    <li><a href="#go-操作redis">Go 操作Redis</a>
      <ul>
        <li><a href="#链接">链接</a></li>
        <li><a href="#字符串-1">字符串</a></li>
        <li><a href="#集合-1">集合</a></li>
      </ul>
    </li>
    <li><a href="#go操作mongodb">Go操作mongodb</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#作业">作业</a>
      <ul>
        <li><a href="#lv0">Lv0</a></li>
        <li><a href="#lv1">Lv1</a></li>
        <li><a href="#lv2">Lv2</a></li>
        <li><a href="#lv3">Lv3</a></li>
        <li><a href="#提交作业">提交作业</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/docs/">课程文档</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    第8课</li>
  </ol>
</nav>
<div class="td-content">
	<h1>Redis 和 MongoDB</h1>
	<div class="lead">Redis 和 MongoDB</div>
	<header class="article-meta">
		
</header>
	<h1 id="lesson8redis-mangodb">lesson8：redis, mangodb</h1>
<p>上节课讲了关系型数据库<strong>mysql</strong>，这节课我们来了解一下非关系型数据库<strong>redis</strong> 和 <strong>mangodb</strong></p>
<h2 id="非关系型数据库">非关系型数据库</h2>
<p>NoSQL：非关系型数据库，主要指那些非关系型的、分布式的，且一般不保证ACID的数据存储系统，常见的有<strong>Redis / HBase /MongoDB /CouchDB /Neo4J</strong></p>
<blockquote>
<p><strong>优点：</strong>
1、格式灵活：存储数据的格式可以是key,value形式、文档形式、图片形式。2、速度快：NoSQL可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘；3、高扩展性；4、成本低。</p>
<p><strong>缺点：</strong>
1、一般而言没有太强的事务处理能力；2、数据结构相对复杂，复杂查询方面稍欠。</p></blockquote>
<h2 id="redis">Redis</h2>
<p>Redis全称为：Remote Dictionary Server（远程数据服务），该软件使用C语言编写，Redis是一个key-value存储系统，其有以下特点。</p>
<ul>
<li>1:性能高,单线程非常适合<strong>读多写少</strong>的场景,可以减轻数据库压力,</li>
<li>2.集群分布式存储,可以横向拓展,可以做到高可用.</li>
<li>3.数据结构类型丰富数据类型</li>
<li>4.支持数据持久化</li>
<li>5.支持事务（一般不用）一般通过lua脚本去实现</li>
</ul>
<h2 id="redis数据类型和命令">Redis数据类型和命令</h2>
<p>Redis 目前有9种数据类型和</p>
<p>**5种常见类型：**String（字符串），Hash（哈希），List（列表），Set（集合）、Zset（有序集合）</p>
<p>**4种新增类型：**BitMap（2.2 版新增）、HyperLogLog（2.8 版新增）、GEO（3.2 版新增）、Stream（5.0 版新增）</p>
<h3 id="基本命令"><strong>基本命令</strong></h3>
<p><code>redis-cli</code> 进入Redis命令行界面</p>
<pre tabindex="0"><code>root@bc2c25de5155:/data# redis-cli
127.0.0.1:6379&gt;
</code></pre><p>如果设置了密码需要auth认证
<code>auth [username] password </code> 默认用户是<code>default</code></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; auth default 123456
OK
127.0.0.1:6379&gt; auth 123456
OK
</code></pre><p><code>dbsize</code> 查看数据库的key数量</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; dbsize
(integer) 1
</code></pre><p><code>select index</code>选择数据库 默认是0</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; select 0
OK
</code></pre><p><code>help @基本数据类型</code> 查看命令</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; help @string
</code></pre><p><code>flushall</code> 删除所有key</p>
<p><code>keys *</code>  查看所有的key</p>
<p><code>exit</code> or <code> quit</code>退出命令行</p>
<h3 id="字符串">字符串</h3>
<p>String 是最基本的 key-value 结构，key 是唯一标识，value 是具体的值，value其实不仅是字符串， 也可以是数字（整数或浮点数），value 最多可以容纳的数据长度是 <code>512M</code>。</p>
<p>**底层实现：**String 类型的底层的数据结构实现主要是 int 和 SDS（简单动态字符串）。</p>
<h4 id="基本命令-1">基本命令</h4>
<h5 id="set">SET</h5>
<p>语法 (不强制大小写)</p>
<p><code>SET key value [NX|XX] [GET] [EX seconds|PX milliseconds|EXAT unix-time-seconds|PXAT unix-time-milliseconds|KEEPTTL]</code></p>
<p><strong>NX</strong> ：当键k不存在时，设置键；设置成功返回ok，不成功时返回nil；和<strong>SETNX</strong>等价</p>
<p><strong>XX</strong>： 与NX相反只在键已经存在时， 才对键进行设置操作</p>
<p><strong>GET</strong>: 返回之前设的值</p>
<p><strong>EX</strong>:表明过期时间，单位是秒 和 <strong>setex</strong> 相同</p>
<p><strong>PX</strong>:单位毫秒</p>
<p><strong>EXAT</strong>:设置时间到某个时间戳（秒级）</p>
<p><strong>PXAT</strong>:设置时间到某个时间戳（毫秒级）</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set zhangsan zs
OK
127.0.0.1:6379&gt; get zhangsan
&#34;zs&#34;
</code></pre><blockquote>
<p><strong>ttl</strong> 查看Key的过期时间(s)   -1是永久 -2是不存在或着已过期</p></blockquote>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set lisi ls EX 10
OK
127.0.0.1:6379&gt; ttl lisi
(integer) 5
127.0.0.1:6379&gt; ttl lisi
(integer) -2
</code></pre><p><strong>XX与NX选项</strong>: NX当键k不存在时，设置键 ;  XX则当这个k存在时设置</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set zhangsan ls nx
(nil)
127.0.0.1:6379&gt; set wangwu ww nx
OK
127.0.0.1:6379&gt; get zhangsan
&#34;zs&#34;
127.0.0.1:6379&gt; set zhangsan ls xx
OK
127.0.0.1:6379&gt; get zhangsan
&#34;ls&#34;
</code></pre><p>GET 会返回之前的value 如果key不存在返回nil</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set a b get
(nil)
127.0.0.1:6379&gt; set a c get
&#34;b&#34;
127.0.0.1:6379&gt; get a
&#34;c&#34;
</code></pre><h5 id="setex">SETEX</h5>
<p>语法:<code>SETEX key seconds value</code></p>
<p>和 set key value ex 一样</p>
<h5 id="mset">MSET</h5>
<p>语法：<code>MSET key value [key value ...]</code></p>
<p>同时设置多个键值对 返回OK</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; mset a 1 b 2 c 3
OK
</code></pre><h5 id="mget">MGET</h5>
<p>同时获取多个值</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; mget a b c
1) &#34;1&#34;
2) &#34;2&#34;
3) &#34;3&#34;
</code></pre><h5 id="get">GET</h5>
<p>语法：<code>GET key</code></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; GET a
&#34;1&#34;
</code></pre><h5 id="getex">GETEX</h5>
<p>语法：<code>GETEX key [EX seconds|PX milliseconds|EXAT unix-time-seconds|PXAT unix-time-milliseconds|PERSIST]</code></p>
<ul>
<li>用于获取key的值，并设置或者移除过期时间，参数类似于set</li>
<li>EX,PX,EXAT,PXAT 和set的相同</li>
<li>PERSIST移除k的过期时间</li>
</ul>
<p>相当于或值并且重新设置过期时间</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; getex a ex 50
&#34;b&#34;
127.0.0.1:6379&gt; ttl a
(integer) 48
127.0.0.1:6379&gt; getex a persist
&#34;b&#34;
127.0.0.1:6379&gt; ttl a
(integer) -1
</code></pre><h5 id="getset">GETSET</h5>
<p>语法 <code>GETSET key value</code></p>
<p>和 set key value get 相同</p>
<h5 id="getrange">GETRANGE</h5>
<p>语法：<code>GETRANGE key start end</code></p>
<p>截取字符串 下标从0开始</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set abcdef ghijk
OK
127.0.0.1:6379&gt; getrange abcdef 0 3
&#34;ghij&#34;
</code></pre><h5 id="strlen">STRLEN</h5>
<p>语法 <code>STRLEN key</code></p>
<p>strlen key 返回键key存储的值的长度，<strong>不存在的k返回0</strong></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; strlen abcdef
(integer) 5
</code></pre><h5 id="incr">INCR</h5>
<p>语法<code>INCR key</code></p>
<p>incr  对key的值加1，并返回加1后的结果；如果k的值是字符串，无法加1，则提示错误</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set k 1
OK
127.0.0.1:6379&gt; incr k
(integer) 2
127.0.0.1:6379&gt; set k wx
OK
127.0.0.1:6379&gt; incr k
(error) ERR value is not an integer or out of range
</code></pre><h5 id="incrby">INCRBY</h5>
<p>语法 <code>INCRBY key increment</code></p>
<p>类似 INCR 只不过可以设置任意数</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; get k
&#34;8&#34;
127.0.0.1:6379&gt; incrby k  2
(integer) 10
</code></pre><h5 id="decr">DECR</h5>
<p>语法 <code>DECR key</code></p>
<p>值减一 类似incr</p>
<h5 id="decrby">DECRBY</h5>
<p>语法 : <code>DECRBY key decrement</code></p>
<p>自定义减值 类似incrby</p>
<h5 id="append">APPEND</h5>
<p>语法 <code>append key value</code></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; set k 12
OK
127.0.0.1:6379&gt; append k 345
(integer) 5
127.0.0.1:6379&gt; get k
&#34;12345&#34;
</code></pre><p><strong>DEL</strong></p>
<p>语法 <code>del key</code> 删除值</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; del k
(integer) 1
127.0.0.1:6379&gt; get k
(nil)
</code></pre><h4 id="应用场景">应用场景</h4>
<h5 id="缓存对象">缓存对象</h5>
<p>使用 String 来缓存对象有两种方式：</p>
<ul>
<li>直接缓存整个对象的 JSON，命令例子： <code>SET user:1 '{&quot;name&quot;:&quot;zhangsan&quot;, &quot;age&quot;:18}'</code>。</li>
<li>采用将 key 进行分离为 user:ID:属性，采用 MSET 存储，用 MGET 获取各属性值，命令例子： <code>MSET user:1:name zhangsan user:1:age 18 user:2:name lisi user:2:age 18</code>。</li>
</ul>
<h5 id="常规计数">常规计数</h5>
<p>因为 Redis 处理命令是单线程，所以执行命令的过程是原子的。因此 String 数据类型适合计数场景，比如计算访问次数、点赞、转发、库存数量等等。</p>
<h5 id="分布式锁">分布式锁</h5>
<p>SET 命令有个 NX 参数可以实现「key不存在才插入」，可以用它来实现分布式锁：</p>
<ul>
<li>如果 key 不存在，则显示插入成功，可以用来表示加锁成功；</li>
<li>如果 key 存在，则会显示插入失败，可以用来表示加锁失败。</li>
</ul>
<h3 id="列表">列表</h3>
<p>List 列表是简单的字符串列表，<strong>按照插入顺序排序</strong>，可以从头部或尾部向 List 列表添加元素。</p>
<p>列表的最大长度为 <code>2^32 - 1</code>，也即每个列表支持超过 <code>40 亿</code>个元素。</p>
<h4 id="内部实现">内部实现</h4>
<p>List 类型的底层数据结构是由<strong>双向链表或压缩列表</strong>实现的：</p>
<ul>
<li>如果列表的元素个数小于 <code>512</code> 个（默认值，可由 <code>list-max-ziplist-entries</code> 配置），列表每个元素的值都小于 <code>64</code> 字节（默认值，可由 <code>list-max-ziplist-value</code> 配置），Redis 会使用<strong>压缩列表</strong>作为 List 类型的底层数据结构；</li>
<li>如果列表的元素不满足上面的条件，Redis 会使用<strong>双向链表</strong>作为 List 类型的底层数据结构；</li>
</ul>
<p>但是<strong>在 Redis 3.2 版本之后，List 数据类型底层数据结构就只由 quicklist（快速表） 实现了，替代了双向链表和压缩列表</strong>。</p>
<h4 id="基本命令-2">基本命令</h4>
<h5 id="lpush">LPUSH</h5>
<p>语法： <code> LPUSH key element [element ...]</code></p>
<p>当key存在但是却不是列表会返回错误</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; lpush lanshan 1 2 3 4 5 6
(integer) 6
</code></pre><h5 id="lrange">LRANGE</h5>
<p>语法： <code>LRANGE key start stop</code></p>
<p>-1是倒数第一个 依次类推</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; lrange lanshan 0 -1
1) &#34;6&#34;
2) &#34;5&#34;
3) &#34;4&#34;
4) &#34;3&#34;
5) &#34;2&#34;
6) &#34;1&#34;
</code></pre><h5 id="lpop">LPOP</h5>
<p>语法：<code>LPOP key [count]</code></p>
<p>移除列表key的表头元素，出队列 counts是出队次数</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; lpop lanshan 1
1) &#34;6&#34;
127.0.0.1:6379&gt; lpop lanshan 2
1) &#34;5&#34;
2) &#34;4&#34;
</code></pre><h5 id="rpop">RPOP</h5>
<p>语法：<code>RPOP key [count]</code></p>
<p>移除列表key的尾元素，出队列 counts是出队次数</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; lrange lanshan 0 -1
1) &#34;3&#34;
2) &#34;2&#34;
3) &#34;1&#34;
127.0.0.1:6379&gt; rpop lanshan 1
1) &#34;1&#34;
127.0.0.1:6379&gt; lrange lanshan 0 -1
1) &#34;3&#34;
2) &#34;2&#34;
</code></pre><h5 id="lset">LSET</h5>
<p>语法： <code>lset key index element</code></p>
<p>通过索引设置列表元素的值</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; clear
127.0.0.1:6379&gt; lrange lanshan 0 -1
1) &#34;3&#34;
2) &#34;2&#34;
3) &#34;a&#34;
4) &#34;b&#34;
5) &#34;c&#34;
127.0.0.1:6379&gt; lset lanshan 1 niu
OK
127.0.0.1:6379&gt; lrange lanshan 0 -1
1) &#34;3&#34;
2) &#34;niu&#34;
3) &#34;a&#34;
4) &#34;b&#34;
5) &#34;c&#34;
</code></pre><h5 id="llen">LLEN</h5>
<p>语法：<code>LLEN key</code></p>
<p>获取列表长度</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; llen lanshan
(integer) 3
</code></pre><h5 id="blpop">BLPOP</h5>
<p>语法： <code>blpop key [key ...] timeout</code></p>
<p>移出并获取列表的第一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; lrange lanshan 0 -1
1) &#34;3&#34;
2) &#34;niu&#34;
3) &#34;a&#34;
4) &#34;b&#34;
5) &#34;c&#34;
127.0.0.1:6379&gt; blpop lanshan 10
1) &#34;lanshan&#34;
2) &#34;3&#34;
</code></pre><p>应用场景
消息队列 以后会学 现在不讲</p>
<h3 id="哈希">哈希</h3>
<p>Hash 是一个键值对（key - value）集合，其中 value 的形式入： <code>value=[{field1，value1}，...{fieldN，valueN}]</code>。Hash 特别适合用于存储对象。</p>
<h4 id="内部实现-1">内部实现</h4>
<p>Hash 类型的底层数据结构是由<strong>压缩列表或哈希表</strong>实现的：</p>
<ul>
<li>如果哈希类型元素个数小于 <code>512</code> 个（默认值，可由 <code>hash-max-ziplist-entries</code> 配置），所有值小于 <code>64</code> 字节（默认值，可由 <code>hash-max-ziplist-value</code> 配置）的话，Redis 会使用<strong>压缩列表</strong>作为 Hash 类型的底层数据结构；</li>
<li>如果哈希类型元素不满足上面条件，Redis 会使用<strong>哈希表</strong>作为 Hash 类型的 底层数据结构。</li>
</ul>
<p><strong>在 Redis 7.0 中，压缩列表数据结构已经废弃了，交由 listpack (紧凑列表)数据结构来实现了</strong>。</p>
<h4 id="基本命令-3">基本命令</h4>
<h5 id="hset">HSET</h5>
<p>语法 <code>HSET key field value [field value ...]</code></p>
<p>一个key的可以有多个field-value对</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hset zhangsan name zs age 18
(integer) 2
</code></pre><h5 id="hsetnx">HSETNX</h5>
<p>语法 <code>hsetnx key field value</code></p>
<p>设置哈希的一个字段，当指定的字段不存在时才会被设置</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hset zs age 18
(integer) 1
127.0.0.1:6379&gt; hsetnx zs age 18
(integer) 0
127.0.0.1:6379&gt; hsetnx zs weight 70
(integer) 1
1234
</code></pre><p>在上面的命令中，age 字段已经存在于 zs这个 key 中，因此 hsetnx 命令的执行并没有添加或修改 age，而 weight 在 zs这个 key 中是不存在的，因此 weight 被添加到 zs中。</p>
<h5 id="hmset">HMSET</h5>
<p>与hset没有区别</p>
<p>语法： <code>hmset key field value [field value ...]</code></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hset zhangsan name zs age 18
(integer) 2
</code></pre><h5 id="hget">HGET</h5>
<p>获取相应feild的value</p>
<p>语法： <code> hget key field</code></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hget zhangsan age
&#34;18&#34;
</code></pre><h5 id="hgetall">HGETALL</h5>
<p>获取哈希的所有字段的值，该命令的用法如下：</p>
<p><code>hgetall key</code></p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hgetall zhangsan
1) &#34;name&#34;
2) &#34;zs&#34;
3) &#34;age&#34;
4) &#34;18&#34;
</code></pre><p>前一个是field 后面是value</p>
<h5 id="hkeys">HKEYS</h5>
<p>语法：<code>hkeys key</code></p>
<p>该命令的作用是：获取哈希的所有字段，但是不获取值</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hkeys zhangsan
1) &#34;name&#34;
2) &#34;age&#34;
</code></pre><h5 id="hexists">HEXISTS</h5>
<p>语法：<code>hexists key field</code></p>
<p>该命令的作用是：判断字段是否存在于指定哈希中</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hexists zhangsan name
(integer) 1
127.0.0.1:6379&gt; hexists zhangsan sex
(integer) 0
</code></pre><h5 id="hlen">HLEN</h5>
<p>语法： <code>hlen key</code></p>
<p>获取指定哈希中字段的数量</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hlen zhangsan
(integer) 2
</code></pre><h5 id="hmget">HMGET</h5>
<p>语法 ： <code> hmget key field [field ...]</code></p>
<p>获取指定哈希中的多个字段</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hmget zhangsan name age
1) &#34;zs&#34;
2) &#34;18&#34;
</code></pre><h5 id="hvals">HVALS</h5>
<p>语法： <code>hvals key</code></p>
<p>该命令的作用是：获取指定哈希的所有值，不获取字段名称</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; hvals zhangsan
1) &#34;zs&#34;
2) &#34;18&#34;
</code></pre><h5 id="hincrby">HINCRBY</h5>
<p>语法： <code>hincrby key field increment</code></p>
<p>和 incryby类似 将指定哈希中的指定字段的值加一个指定的整型值</p>
<h5 id="hdel">HDEL</h5>
<p>语法: <code>HDEL key field [field ...]</code></p>
<p>删除哈希中指定一个或多个字段</p>
<h4 id="应用场景-1">应用场景</h4>
<h5 id="缓存对象-1">缓存对象</h5>
<p>Hash 类型的 （key，field， value） 的结构与对象的（对象id， 属性， 值）的结构相似，也可以用来存储对象。</p>
<table>
  <thead>
      <tr>
          <th>id</th>
          <th>name</th>
          <th>age</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>zhangsan</td>
          <td>18</td>
      </tr>
      <tr>
          <td>2</td>
          <td>li</td>
          <td>18</td>
      </tr>
      <tr>
          <td>3</td>
          <td>wangwu</td>
          <td>18</td>
      </tr>
  </tbody>
</table>
<p>我们可以这样来存储对象</p>
<pre tabindex="0"><code> HSET uid:1 name lmj age 18
 HSET uid:2 name wx  age 18
 HSET uid:2 name yxh age 18
 
</code></pre><h3 id="集合">集合</h3>
<p>Set 类型是一个无序并唯一的键值集合，它的存储顺序不会按照插入的先后顺序进行存储。</p>
<p>一个集合最多可以存储 <code>2^32-1</code> 个元素。概念和数学中个的集合基本类似，可以交集，并集，差集等等，所以 Set 类型除了支持集合内的增删改查，同时还支持多个集合取交集、并集、差集。</p>
<p>Set 类型和 List 类型的区别如下：</p>
<ul>
<li>List 可以存储重复元素，Set 只能存储非重复元素；</li>
<li>List 是按照元素的先后顺序存储元素的，而 Set 则是无序方式存储元素的。</li>
</ul>
<h4 id="内部实现-2">内部实现</h4>
<p>Set 类型的底层数据结构是由<strong>哈希表或整数集合</strong>实现的：</p>
<ul>
<li>如果集合中的元素都是整数且元素个数小于 <code>512</code> （默认值，<code>set-maxintset-entries</code>配置）个，Redis 会使用<strong>整数集合</strong>作为 Set 类型的底层数据结构；</li>
<li>如果集合中的元素不满足上面条件，则 Redis 使用<strong>哈希表</strong>作为 Set 类型的底层数据结构。</li>
</ul>
<h4 id="基本命令-4">基本命令</h4>
<h5 id="sadd">SADD</h5>
<p>语法：<code>SADD key member [member ...]</code></p>
<p>往集合key中存入元素，元素存在则忽略，若key不存在则新建</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; sadd house zhangsan lisi wangwu
(integer) 3
127.0.0.1:6379&gt; sadd house zhangsan
(integer) 0
</code></pre><h5 id="srem">SREM</h5>
<p>语法：<code>SREM key member [member ...] </code></p>
<p>从集合key中删除元素</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; srem house zhangsan
(integer) 1
127.0.0.1:6379&gt; srem house zhangsan
(integer) 0
</code></pre><h5 id="smembers">SMEMBERS</h5>
<p>语法：<code>SMEMBERS key</code></p>
<p>查看所有的members</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; smembers house
1) &#34;lisi&#34;
2) &#34;wangwu&#34;
</code></pre><h5 id="scard">SCARD</h5>
<p>语法：<code>SCARD key</code></p>
<p>查看元素个数</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; scard house
(integer) 2
</code></pre><h5 id="sismember">SISMEMBER</h5>
<p>语法：<code>SISMEMBER key member</code></p>
<p>判断元素是否是在集合中</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; sismember house zhangsan
(integer) 0
</code></pre><h5 id="srandmember">SRANDMEMBER</h5>
<p>语法： <code>SRANDMEMBER key [count]</code></p>
<p>从集合key中随机选出count个元素，元素不从key中删除</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; srandmember house 2
1) &#34;lisi&#34;
2) &#34;zhangsan&#34;
127.0.0.1:6379&gt; srandmember house 2
1) &#34;wangwu&#34;
2) &#34;zhangsan&#34;
</code></pre><h5 id="spop">SPOP</h5>
<p>语法： <code> SPOP key [count]</code></p>
<p>从集合key中随机选出count个元素，元素从key中删除</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; spop house 2
1) &#34;lisi&#34;
2) &#34;zhangsan&#34;
</code></pre><h5 id="sinter">SINTER</h5>
<p>语法： <code>SINTER key [key ...]</code></p>
<p>交集运算返回两个set的交集</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; smembers house1
1) &#34;zhangsan&#34;
2) &#34;lisi&#34;
3) &#34;wangwu&#34;
127.0.0.1:6379&gt; smembers house2
1) &#34;zhangsan&#34;
2) &#34;a&#34;
3) &#34;b&#34;
127.0.0.1:6379&gt; sinter house1 house2
1) &#34;zhangsan&#34;
</code></pre><h5 id="sinterstore">SINTERSTORE</h5>
<p>语法： <code>SINTERSTORE destination key [key ...]</code></p>
<p>将交集结果存入新集合destination中</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; sinterstore house3 house1 house2
(integer) 1
127.0.0.1:6379&gt; smembers house3
1) &#34;zhangsan&#34;
</code></pre><h5 id="sunion">SUNION</h5>
<p>语法： <code>SUNION key [key ...]</code></p>
<p>并集运算</p>
<h5 id="sunionstore">SUNIONSTORE</h5>
<p>语法： <code>SUNIONSTORE destination key [key ...]</code></p>
<p>将并集结果存入新集合destination中</p>
<h5 id="sdiff">SDIFF</h5>
<p>差集运算 <code>SDIFF key [key ...]</code></p>
<h5 id="sdiffstore">SDIFFSTORE</h5>
<p>将差集结果存入新集合destination中 <code>SDIFFSTORE destination key [key ...]</code></p>
<h4 id="应用场景-2">应用场景</h4>
<p>集合的主要几个特性，无序、不可重复、支持并交差等操作。</p>
<p>因此 Set 类型比较适合用来数据去重和保障数据的唯一性，还可以用来统计多个集合的交集、错集和并集等，当我们存储的数据是无序并且需要去重的情况下，比较适合使用集合类型进行存储。</p>
<p>但是有一个潜在的风险。<strong>Set 的差集、并集和交集的计算复杂度较高，在数据量较大的情况下，如果直接执行这些计算，会导致 Redis 实例阻塞</strong>。</p>
<p>在主从集群中，为了避免主库因为 Set 做聚合计算（交集、差集、并集）时导致主库被阻塞，我们可以选择一个从库完成聚合统计，或者把数据返回给客户端，由客户端来完成聚合统计。</p>
<h5 id="点赞">点赞</h5>
<p>Set 类型可以保证一个用户只能点一个赞，这里举例子一个场景，key 是文章id，value 是用户id。</p>
<p><code>uid:1</code> 、<code>uid:2</code>、<code>uid:3</code> 三个用户分别对 article:1 文章点赞了。</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; SADD article:1 uid:1
(integer) 1
127.0.0.1:6379&gt; SADD article:1 uid:2
(integer) 1
127.0.0.1:6379&gt; SADD article:1 uid:3
(integer) 1
127.0.0.1:6379&gt; SCARD article:1
(integer) 3
127.0.0.1:6379&gt; SREM article:1 uid:1
(integer) 1
127.0.0.1:6379&gt; SCARD article:1
(integer) 2
</code></pre><h5 id="共同关注">共同关注</h5>
<p>Set 类型支持交集运算，所以可以用来计算共同关注的好友、公众号等。</p>
<p>key 可以是用户id，value 则是已关注的公众号的id。</p>
<p><code>uid:1</code> 用户关注频道号 id 为 1、5、6、7、8、9，<code>uid:2</code> 用户关注 频道号id 为 2、7、8、9、10、11。</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; SADD uid:1 5 6 7 8 9
(integer) 5
127.0.0.1:6379&gt; SADD uid:2 7 8 9 10 11
(integer) 5
</code></pre><p>我们可以查看 <code>uid:1</code> 和 <code>uid:2</code> 共同关注的频道</p>
<p>可以向<code>uid:2</code>推荐 <code>uid:1</code> 的频道等等&hellip;</p>
<h5 id="抽奖活动">抽奖活动</h5>
<p>存储某活动中中奖的用户名 ，Set 类型因为有去重功能，可以保证同一个用户不会中奖两次。</p>
<p>key为抽奖活动名，value为员工名称，把所有员工名称放入抽奖箱</p>
<p>再利用 <code>SRANDRM </code>或者是 <code>SPOP </code></p>
<h3 id="有序集合">有序集合</h3>
<p>Zset 类型（有序集合类型）相比于 Set 类型多了一个排序属性 score（分值），对于有序集合 ZSet 来说，每个存储元素相当于有两个值组成的，一个是有序结合的元素值，一个是排序值。</p>
<p>有序集合保留了集合不能有重复成员的特性（分值可以重复），但不同的是，有序集合中的元素可以排序。</p>
<h5 id="内部实现-3">内部实现</h5>
<p>Zset 类型的底层数据结构是由<strong>压缩列表或跳表</strong>实现的：</p>
<ul>
<li>如果有序集合的元素个数小于 <code>128</code> 个，并且每个元素的值小于 <code>64</code> 字节时，Redis 会使用<strong>压缩列表</strong>作为 Zset 类型的底层数据结构；</li>
<li>如果有序集合的元素不满足上面的条件，Redis 会使用<strong>跳表</strong>作为 Zset 类型的底层数据结构；</li>
</ul>
<p><strong>在 Redis 7.0 中，压缩列表数据结构已经废弃了，交由 listpack 数据结构来实现了。</strong></p>
<h4 id="基本命令-5">基本命令</h4>
<h5 id="zadd">ZADD</h5>
<p>语法 ：<code>ZADD key [NX|XX] [GT|LT] [CH] [INCR] score member [score member ...]</code></p>
<p>往有序集合key中加入带分值元素 ,core必须是浮点数或者整型，添加成功后返回被成功添加的新成员的数量</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zadd people 10 zhangsan 9.1 lisi
(integer) 2
</code></pre><h5 id="zrem">ZREM</h5>
<p>语法 ：<code>ZREM key member [member...]</code></p>
<p>往有序集合key中删除元素</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; ZREM people lisi
(integer) 1
</code></pre><h5 id="zscore">ZSCORE</h5>
<p>语法： <code>ZSCORE key member</code></p>
<p>返回有序集合key中元素member的分值</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zscore people zhangsan
&#34;10&#34;
</code></pre><h5 id="zcard">ZCARD</h5>
<p>语法： <code>ZCARD key </code></p>
<p>返回有序集合元素个数</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zcard people
(integer) 3
</code></pre><h5 id="zincrby">ZINCRBY</h5>
<p><code>ZINCRBY key increment member </code></p>
<p>为有序集合key中元素member的分值加上increment</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zincrby people 1 zhangsan
&#34;11&#34;
</code></pre><h5 id="zrange">ZRANGE</h5>
<p><code>ZRANGE key start stop [WITHSCORES]</code></p>
<p>正序获取有序集合key从start下标到stop下标的元素(zhangsan最大)</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrange people 0 -1
1) &#34;wangwu&#34;
2) &#34;lisi&#34;
3) &#34;zhangsan&#34;
</code></pre><h5 id="zrevrange">ZREVRANGE</h5>
<p><code>ZREVRANGE key start stop [WITHSCORES]</code></p>
<p>倒序获取有序集合key从start下标到stop下标的元素(zhangsan最大)</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrevrange people 0 -1
1) &#34;zhangsan&#34;
2) &#34;lisi&#34;
3) &#34;wangwu&#34;
</code></pre><h5 id="zrangebyscore">ZRANGEBYSCORE</h5>
<p><code>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</code></p>
<p>返回有序集合中指定分数区间内的成员，分数由低到高排序。</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrangebyscore people 0 100
1) &#34;wangwu&#34;
2) &#34;lisi&#34;
3) &#34;zhangsan&#34;
</code></pre><h5 id="zrevrangebyscore">ZREVRANGEBYSCORE</h5>
<p><code>ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]</code></p>
<p>返回有序集合中指定分数区间内的成员，分数由高到低排序。</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrevrangebyscore people 15 0
1) &#34;zhangsan&#34;
2) &#34;lisi&#34;
3) &#34;wangwu&#34;
</code></pre><h4 id="应用场景-3">应用场景</h4>
<p>Zset 类型（Sorted Set，有序集合） 可以根据元素的权重来排序，我们可以自己来决定每个元素的权重值。比如说，我们可以根据元素插入 Sorted Set 的时间确定权重值，先插入的元素权重小，后插入的元素权重大。</p>
<p>在面对需要展示最新列表、排行榜等场景时，如果数据更新频繁或者需要分页显示，可以优先考虑使用 Sorted Set。</p>
<h5 id="排行榜">排行榜</h5>
<p>有序集合比较典型的使用场景就是排行榜。例如学生成绩的排名榜、游戏积分排行榜、视频播放排名、电商系统中商品的销量排名等。</p>
<h5 id="电话姓名排序">电话、姓名排序</h5>
<p>使用有序集合的 <code>ZRANGEBYLEX</code> 或 <code>ZREVRANGEBYLEX</code> 可以帮助我们实现电话号码或姓名的排序，我们以 <code>ZRANGEBYLEX</code> （返回指定成员区间内的成员，按 key 正序排列，分数必须相同）为例。</p>
<h3 id="位图">位图</h3>
<p>Bitmap，即位图，是一串连续的二进制数组（0和1），可以通过偏移量（offset）定位元素。BitMap通过最小的单位bit来进行<code>0|1</code>的设置，表示某个元素的值或者状态，时间复杂度为O(1)。</p>
<p>由于 bit 是计算机中最小的单位，使用它进行储存将非常节省空间，特别适合一些数据量大且使用<strong>二值统计的场景</strong>。</p>
<h4 id="内部实现-4">内部实现</h4>
<p>Bitmap 本身是用 String 类型作为底层数据结构实现的一种统计二值状态的数据类型。</p>
<p>String 类型是会保存为二进制的字节数组，所以，Redis 就把字节数组的每个 bit 位利用起来，用来表示一个元素的二值状态，你可以把 Bitmap 看作是一个 bit 数组。</p>
<h4 id="常用命令">常用命令</h4>
<p>略</p>
<h4 id="应用场景-4">应用场景</h4>
<p>1.签到统计 2.判断用户登陆态 3.连续签到用户总数  等等</p>
<h3 id="geo">GEO</h3>
<p>Redis GEO 是 Redis 3.2 版本新增的数据类型，主要用于存储地理位置信息，并对存储的信息进行操作。</p>
<p>在日常生活中，我们越来越依赖搜索“附近的餐馆”、在打车软件上叫车，这些都离不开基于位置信息服务（Location-Based Service，LBS）的应用。LBS 应用访问的数据是和人或物关联的一组经纬度信息，而且要能查询相邻的经纬度范围，GEO 就非常适合应用在 LBS 服务的场景中</p>
<h4 id="内部实现-5">内部实现</h4>
<p>GEO 本身并没有设计新的底层数据结构，而是直接使用了 Sorted Set 集合类型。</p>
<p>GEO 类型使用 GeoHash 编码方法实现了经纬度到 Sorted Set 中元素权重分数的转换，这其中的两个关键机制就是「对二维地图做区间划分」和「对区间进行编码」。一组经纬度落在某个区间后，就用区间的编码值来表示，并把编码值作为 Sorted Set 元素的权重分数。</p>
<p>这样一来，我们就可以把经纬度保存到 Sorted Set 中，利用 Sorted Set 提供的“按权重进行有序范围查找”的特性，实现 LBS 服务中频繁使用的“搜索附近”的需求。</p>
<h4 id="应用场景-5">应用场景</h4>
<p>1.查找附加的人 车 物品</p>
<h3 id="设计和使用规范">设计和使用规范</h3>
<h4 id="键值对设计">键值对设计</h4>
<p>在Redis中，良好的键值设计可以达成事半功倍的效果，而不好的键值设计可能会带来Redis服务停滞，网络阻塞，CPU使用率飙升等一系列问题，下面来给大家介绍键值对的设计</p>
<h5 id="key-命名规范">key 命名规范</h5>
<p>Redis的Key虽然可以自定义，但最好遵循下面的几个最佳实践约定：</p>
<ul>
<li>
<p><strong>遵循基本格式</strong>：<code>[业务名称]:[数据名]:[id]</code> 或 <code>[业务名称]:[数据名]:[id]:[字段名]</code></p>
<p>各个命名域之间一般使用冒号做分割符，这是不成文的规矩。</p>
<p>例如我们的登录业务，需要保存用户信息，其key可以设计成如下格式：</p>
<pre tabindex="0"><code>login:user:10
</code></pre></li>
<li>
<p><strong>Key的长度不超过44字节</strong></p>
<p>无论是哪种数据类型， key都是string类型，string类型的底层编码包含int、embstr和raw三种。如果key中全是数字，那么就会直接以int类型去存储，而int占用的空间也是最小的，当然出于业务需求，我们不可能将key设计为一个全数字的，而如果不是纯数字，底层存储的就是SDS内容，如果小于44字节，就会使用embstr类型，embstr在内存中是一段连续的存储空间，内存占用相对raw来说较小，而当字节数大于44字节时，会转为raw模式存储，在raw模式下，内存空间不是连续的，而是采用一个指针指向了另外一段内存空间，在这段空间里存储SDS内容，这样空间不连续，访问的时候性能也就会收到影响，还有可能产生内存碎片</p>
<p>需要注意的是，如果你的redis版本低于4.0，那么界限是39字节而非44字节</p>
</li>
<li>
<p><strong>Key中不包含一些特殊字符</strong></p>
<p>包含空格、换行、单双引号以及其他转义字符</p>
</li>
</ul>
<h5 id="value-设计">value 设计</h5>
<p>▐ <strong>拒绝 Big Key ！！！</strong></p>
<p>BigKey顾名思义就是一个很大的Key-value，这里的大并不是指Key本身很大，而是指包括这个Key的Value在内的一整个键值对很大</p>
<p>BigKey通常以Key-Value的大小或者Key中成员的数量来综合判定，例如：</p>
<ul>
<li>字符串类型：它的big体现在<strong>单个value值很大</strong>，一般认为超过10KB就是bigkey</li>
<li>非字符串类型：哈希、列表、集合、有序集合，它们的big体现在<strong>元素个数太多（5000以上）</strong></li>
</ul>
<p>▐ <strong>Big Key 的危害</strong></p>
<ul>
<li>
<p><strong>网络阻塞</strong></p>
<p>bigkey也就意味着每次获取要产生的网络流量较大，假设一个bigkey为1MB，客户端每秒访问量为1000，那么每秒产生1000MB的流量，对于普通的千兆网卡（按照字节算是128MB/s）的服务器来说简直是灭顶之灾，而且一般服务器会采用单机多实例方式来部署，也就是说一个bigkey可能会对其他实例造成影响，其后果不堪设想。</p>
</li>
<li>
<p><strong>数据倾斜</strong></p>
<p>集群环境下，由于所有插槽一开始都是均衡分配的，因此BigKey所在的Redis实例内存使用率会远超其他实例，从而无法使数据分片的内存资源达到均衡，最后不得不手动重新分配插槽，增加运维人员的负担</p>
</li>
<li>
<p><strong>阻塞工作线程</strong></p>
<p>对元素较多的hash、list、zset等做运算会耗时较久，而且由于Redis是单线程的，在运算过程中会导致服务阻塞，无法接收其他用户请求，例如：使用 del 删除大 key 时，会阻塞工作线程，这样就没办法处理后续的命令</p>
</li>
<li>
<p><strong>CPU压力</strong></p>
<p>对BigKey的数据进行序列化或反序列化都会导致CPU的使用率飙升，影响Redis实例和本机其它应用</p>
</li>
</ul>
<p>▐ <strong>Big Key 产生</strong></p>
<p>一般来说bigkey的产生都是由于程序设计不当，或者对于数据规模预料不清楚造成的</p>
<p>▐ <strong>发现 Big Key</strong></p>
<p>利用以下命令，可以遍历分析所有key，并返回Key的整体统计信息与每种数据类型中Top1的BigKey</p>
<pre tabindex="0"><code>redis-cli -a 密码 --bigkeys
redis-cli -h 127.0.0.1 -p 6379 -a 密码 -- bigkeys
</code></pre><p>那么如何判断元素的大小呢？redis中为我们提供了相应的命令，语法如下：</p>
<pre tabindex="0"><code>memory usage 键名
</code></pre><p>这条命令会返回一条数据占用内存的总大小，这个大小不仅包括Key和Value的大小，还包括数据存储时的一些元信息，因此可能你的Key与Value只占用了几十个字节，但最终的返回结果是几百个字节</p>
<p>但是我们一般不推荐使用memory指令，因为这个指令对CPU的占用率是很高的，实际开发中我们一般只需要衡量Value的大小或者Key中的成员数即可</p>
<p>例如如果我们使用的数据类型是String，就可以使用以下命令，返回的结果是Value的长度</p>
<pre tabindex="0"><code>strlen 键名
</code></pre><p>如果我们使用的数据类型是List，就可以使用以下命令，返回的结果是List中成员的个数</p>
<pre tabindex="0"><code>llen 键名
</code></pre><p>▐ <strong>删除 Big Key</strong></p>
<p>BigKey内存占用较多，因此即便我们使用的是删除操作，删除BigKey也需要耗费很长时间，导致Redis主线程阻塞，引发一系列问题。</p>
<p>如果redis版本在4.0之后，我们可以通过异步删除命令unlink来删除一个BigKey，该命令会先把数据标记为已删除，然后再异步执行删除操作。</p>
<p>如果redis版本在4.0之前，针对集合类型，我们可以先遍历BigKey中所有的元素，先将子元素逐个删除，最后再删除BigKey。至于如何遍历，针对不同的集合类型，可以参考以下不同的命令：</p>
<ul>
<li>HSCAN，SCAN，SSCAN，ZSCAN</li>
</ul>
<p><a href="http://redisdoc.com/index.html">命令参考</a></p>
<p>▐ <strong>优化 Big Key</strong></p>
<p>找出BigKey中，我们应该如何对BigKey进行优化呢？</p>
<ul>
<li>
<p>选择合适的数据类型</p>
<p>例如：实体类型（要合理控制和使用数据结构，但也要注意节省内存和性能之间的平衡）</p>
<p>反例：</p>
<pre tabindex="0"><code>set user:1:name zhangsan
set user:1:age 20
set user:1:favor pingpong
</code></pre></li>
</ul>
<p>正例：</p>
<pre tabindex="0"><code>hmset user:1 name zhangsan age 19 favor pingpong
</code></pre><ul>
<li>
<p>控制 key 的生命周期</p>
<p>建议使用expire设置过期时间（条件允许可以打散过期时间，防止集中过期）。</p>
</li>
<li>
<p>拆</p>
<ul>
<li>
<p>字段打散</p>
<p>将对象的不同属性存储到不同的key中</p>
<table>
  <thead>
      <tr>
          <th>key</th>
          <th>value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>user:1:name</td>
          <td>Jack</td>
      </tr>
      <tr>
          <td>user:1:age</td>
          <td>21</td>
      </tr>
  </tbody>
</table>
<p>优点：可以灵活访问对象任意字段</p>
<p>缺点：由于每条数据都会有一些元信息需要存储，因此将一个Key分成多个Key进行存储，占用的内存会变的更大，且由于字段分散，当我们需要做统一控制时会变得很困难</p>
</li>
<li>
<p>hash</p>
<p>使用hash结构来存储对象，对象的一个属性对应集合中的一个成员</p>
<table>
  <thead>
      <tr>
          <th>user:1</th>
          <th>name</th>
          <th>jack</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>age</td>
          <td>21</td>
          <td></td>
      </tr>
  </tbody>
</table>
</li>
</ul>
</li>
</ul>
<h5 id="反例">反例</h5>
<ul>
<li>
<p>反例1：</p>
<pre tabindex="0"><code>redis&gt; SET registryservice:userid:string:100123 &#34;zhangsan&#34;
</code></pre><p>key 太长，这个key的长度甚至大于value长度，优点是描述信息很明确，缺点就是浪费内存</p>
</li>
<li>
<p>反例2：</p>
<pre tabindex="0"><code>SET 6B1B0C32-C2C5-4E48-B6BC-DEFA25E41919 &#34;zhangsan&#34;
</code></pre><p>在反例1的基础上，KEY本身是个UUID，缺点：key 太长、含义无可读性，无法scan</p>
</li>
<li>
<p>反例3：</p>
<pre tabindex="0"><code>SET &#34;!@#/:$%^&amp;*()+100123&#34; &#34;zhangsan&#34;
</code></pre><p>在反例2的基础上，增加了特殊字符，缺点：无可读性，部分场景下会引发业务异常</p>
</li>
<li>
<p>反例4：</p>
<pre tabindex="0"><code>SET &#34;a b c d 100123&#34; &#34;sometext&#34;
</code></pre><p>key 中包含了空格，缺点：无可读性，部分场景下引发业务歧义</p>
</li>
</ul>
<h3 id="缓存策略">缓存策略</h3>
<p>常见的缓存更新策略。</p>
<ul>
<li>
<p>Cache Aside（旁路缓存）策略；</p>
</li>
<li>
<p>Read/Write Through（读穿 / 写穿）策略；</p>
</li>
<li>
<p>Write Back（写回）策略</p>
</li>
</ul>
<p>实际开发中，Redis 和 MySQL 的更新策略用的是 Cache Aside，另外两种策略应用不了。</p>
<h4 id="cache-aside旁路缓存策略">Cache Aside（旁路缓存）策略</h4>
<p>Cache Aside（旁路缓存）策略是最常用的，应用程序直接与「数据库、缓存」交互，并负责对缓存的维护，该策略又可以细分为「读策略」和「写策略」。</p>
  <img src="/images/lesson08/1.png">
<p><strong>写策略的步骤：</strong></p>
<ul>
<li>先更新数据库中的数据，再删除缓存中的数据。</li>
</ul>
<p><strong>读策略的步骤：</strong></p>
<ul>
<li>如果读取的数据命中了缓存，则直接返回数据；</li>
<li>如果读取的数据没有命中缓存，则从数据库中读取数据，然后将数据写入到缓存，并且返回给用户。</li>
</ul>
<p>为什么写策略要先更新数据库再删除缓存呢，我们来探讨下面两个场景。</p>
<p><strong>先删除缓存再更新数据库</strong></p>
<p>假设某个用户的年龄是 20，请求 A 要更新用户年龄为 21，所以它会删除缓存中的内容。这时，另一个请求 B 要读取这个用户的年龄，它查询缓存发现未命中后，会从数据库中读取到年龄为 20，并且写入到缓存中，然后请求 A 继续更改数据库，将用户的年龄更新为 21。</p>
  <img src="/images/lesson08/2.png">
<p>最终，该用户年龄在缓存中是 20（旧值），在数据库中是 21（新值），缓存和数据库的数据不一致。</p>
<p><strong>先更新数据库再删除缓存</strong></p>
<p>假如某个用户数据在缓存中不存在，请求 A 读取数据时从数据库中查询到年龄为 20，在未写入缓存中时另一个请求 B 更新数据。它更新数据库中的年龄为 21，并且清空缓存。这时请求 A 把从数据库中读到的年龄为 20 的数据写入到缓存中。最终，该用户年龄在缓存中是 20（旧值），在数据库中是 21（新值），缓存和数据库数据还是不一致。</p>
<img src="/images/lesson08/3.png">
<p><strong>但是在实际中，这个问题出现的概率并不高</strong>。
**因为缓存的写入通常要远远快于数据库的写入！**所以在实际中很难出现请求 B 已经更新了数据库并且删除了缓存，请求 A 才更新完缓存的情况。而一旦请求 A 早于请求 B 删除缓存之前更新了缓存，那么接下来的请求就会因为缓存不命中而从数据库中重新读取数据，所以不会出现这种不一致的情况。</p>
<p>所以说在A写入缓存18的速度 远远快于 B写入数据库19的速度。</p>
<p>Cache Aside 策略适合<strong>读多写少</strong>的场景，不适合写多的场景，因为当写入比较频繁时，缓存中的数据会被频繁地清理，这样会对缓存的命中率有一些影响。如果业务对缓存命中率有严格的要求，那么可以考虑两种解决方案：</p>
<ul>
<li>一种做法是在更新数据时也更新缓存，只是在更新缓存前先加一个分布式锁，因为这样在同一时间只允许一个线程更新缓存，就不会产生并发问题了。当然这么做对于写入的性能会有一些影响；</li>
<li>另一种做法同样也是在更新数据时更新缓存，只是给缓存加一个较短的过期时间，这样即使出现缓存不一致的情况，缓存的数据也会很快过期，对业务的影响也是可以接受。</li>
</ul>
<p>其他缓存策略自行了解&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</p>
<h2 id="mongodb">mongodb</h2>
<h3 id="数据存储结构">数据存储结构</h3>
<p>在MongoDB中数据存储的基本概念是数据库、集合、文档。</p>
<p>文档（document）是MongoDB中数据的基本存储单元，非常类似与关系型数据库管理系统中的行，但更有表现力。</p>
<p>集合（collection）可以看作是一个拥有动态模式（dynamic schema）的表。</p>
<p>MongoDB的一个实例可以拥有多个相互独立的数据库（database），每一个数据库都拥有自己的集合。</p>
<p>MongoDB 将数据存储为一个文档，数据结构由键值(key=&gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。</p>
<table>
  <thead>
      <tr>
          <th>SQL术语/概念</th>
          <th>MongoDB术语/概念</th>
          <th>解释/说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>database</td>
          <td>database</td>
          <td>数据库</td>
      </tr>
      <tr>
          <td>table</td>
          <td>collection</td>
          <td>数据库表/集合</td>
      </tr>
      <tr>
          <td>row</td>
          <td>document</td>
          <td>数据记录行/文档</td>
      </tr>
      <tr>
          <td>column</td>
          <td>field</td>
          <td>数据字段/域</td>
      </tr>
      <tr>
          <td>index</td>
          <td>index</td>
          <td>索引</td>
      </tr>
      <tr>
          <td>table joins</td>
          <td></td>
          <td>表连接,MongoDB不支持</td>
      </tr>
      <tr>
          <td>primary key</td>
          <td>primary key</td>
          <td>主键,MongoDB自动将_id字段设置为主键</td>
      </tr>
  </tbody>
</table>
<h4 id="数据库">数据库</h4>
<p>在MongoDB中，多个文档组成集合，而多个集合可以组成数据库，一个MongoDB实例可以建立多个数据库。</p>
<p>有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库。</p>
<ul>
<li>admin： 从权限的角度来看，这是&quot;root&quot;数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。</li>
<li>local: 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合</li>
<li>config: 当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的相关信息。</li>
</ul>
<p><strong>show dbs</strong> 命令可以显示所有数据的列表。</p>
<p>执行 <strong>db</strong> 命令可以显示当前数据库对象或集合。</p>
<p>运行<strong>use</strong>命令，可以连接到一个指定的数据库。</p>
<pre tabindex="0"><code>test&gt; show dbs
admin   40.00 KiB
config  72.00 KiB
local   40.00 KiB
test&gt; db
test
test&gt; use local
switched to db local
local&gt; db
local
</code></pre><h4 id="集合collection">集合（collection)</h4>
<p>集合就是 一组文档，类似于 RDBMS （关系数据库管理系统：Relational Database Management System)中的表格。</p>
<p>集合是动态模式的，也就意味着集合没有固定的结构，集合可以插入不同格式和类型的数据，但通常情况下我们插入集合的数据都会有一定的关联性。</p>
<h4 id="3文档document">3.文档（Document）</h4>
<p>文档MongoDB核心概念。文档就是键值对的一个有序集合。MongoDB 的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型，这与关系型数据库有很大的区别，也是 MongoDB 非常突出的特点。</p>
<p>一个简单的文档例子如下：</p>
<pre tabindex="0"><code>{&#34;zhangsan&#34;:&#34;hello&#34;,&#34;lisi&#34;:3}
</code></pre><p>文档中的键是字符串，文档中的值可以是多种不同的数据类型，甚至可以是一个完整的内嵌文档。</p>
<p>MongoDB的文档不能有重复的键。</p>
<p>MongoDB不但区分类型，而且区分大小写。</p>
<pre tabindex="0"><code>{&#34;Foot&#34;:&#34;3&#34;}
{&#34;foot&#34;:&#34;3&#34;}
{&#34;foot&#34;: 3 }
 
这三个文档是不同的
</code></pre><h3 id="mongodb-数据类型">MongoDB 数据类型</h3>
<p>在概念上MongoDB的文档与JavaScript中的对象相近，因而可以认为它类似与JSON。MongoDB在JSON六种数据类型（null，布尔，数字、字符长、对象和数组）的基础上上添加了一些其他数据类型，以实现对时间、浮点数、正则函数等的操作。</p>
<table>
  <thead>
      <tr>
          <th>数据类型</th>
          <th>例子</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>String</td>
          <td>{ &ldquo;x&rdquo; : &ldquo;foot&rdquo; }</td>
          <td>字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。</td>
      </tr>
      <tr>
          <td>Integer</td>
          <td>{ &ldquo;x&rdquo; : 1 }</td>
          <td>整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。</td>
      </tr>
      <tr>
          <td>Boolean</td>
          <td>{ &ldquo;x&rdquo; : true }</td>
          <td>布尔值。用于存储布尔值（真/假）。</td>
      </tr>
      <tr>
          <td>Double</td>
          <td>{ &ldquo;x&rdquo; : 3.14 }</td>
          <td>双精度浮点值。用于存储浮点值。</td>
      </tr>
      <tr>
          <td>Array</td>
          <td>{ &ldquo;x&rdquo; : [ &ldquo;a&rdquo; , &ldquo;b&rdquo; ] }</td>
          <td>用于将数组或列表或多个值存储为一个键。</td>
      </tr>
      <tr>
          <td>Timestamp</td>
          <td></td>
          <td>时间戳。记录文档修改或添加的具体时间。</td>
      </tr>
      <tr>
          <td>Object</td>
          <td>{ &ldquo;x&rdquo; : { &ldquo;y&rdquo; : &ldquo;foot&rdquo; } }</td>
          <td>用于内嵌文档。</td>
      </tr>
      <tr>
          <td>Null</td>
          <td>{ &ldquo;x&rdquo; : null }</td>
          <td>用于创建空值。</td>
      </tr>
  </tbody>
</table>
<h2 id="go-操作redis">Go 操作Redis</h2>
<p>我这里使用的是 <code>github.com/go-redis/redis/v8</code> 这个库</p>
<p>当然也可以用 <code> github.com/gomodule/redigo/redis</code></p>
<h3 id="链接">链接</h3>
<p>连接池以及链接设置</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#cf222e">var</span> <span style="color:#1f2328">Rdb</span> <span style="color:#0550ae">*</span><span style="color:#1f2328">redis</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Client</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">func</span> <span style="color:#6639ba">InitRedis</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">Rdb</span> <span style="color:#1f2328">=</span> <span style="color:#1f2328">redis</span><span style="color:#1f2328">.</span><span style="color:#6639ba">NewClient</span><span style="color:#1f2328">(</span><span style="color:#0550ae">&amp;</span><span style="color:#1f2328">redis</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Options</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//连接信息</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Network</span><span style="color:#1f2328">:</span>  <span style="color:#0a3069">&#34;tcp&#34;</span><span style="color:#1f2328">,</span>            <span style="color:#57606a">//网络类型，tcp or unix，默认tcp</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Addr</span><span style="color:#1f2328">:</span>     <span style="color:#0a3069">&#34;127.0.0.1:6379&#34;</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//主机名+冒号+端口，默认localhost:6379</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Password</span><span style="color:#1f2328">:</span> <span style="color:#0a3069">&#34;123456&#34;</span><span style="color:#1f2328">,</span>         <span style="color:#57606a">//密码</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">DB</span><span style="color:#1f2328">:</span>       <span style="color:#0550ae">0</span><span style="color:#1f2328">,</span>                <span style="color:#57606a">// redis数据库index</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//连接池容量及闲置连接数量</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">PoolSize</span><span style="color:#1f2328">:</span>     <span style="color:#0550ae">15</span><span style="color:#1f2328">,</span> <span style="color:#57606a">// 连接池最大socket连接数，默认为4倍CPU数， 4 * runtime.NumCPU</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">MinIdleConns</span><span style="color:#1f2328">:</span> <span style="color:#0550ae">10</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//在启动阶段创建指定数量的Idle连接，并长期维持idle状态的连接数不少于指定数量；。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//超时</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">DialTimeout</span><span style="color:#1f2328">:</span>  <span style="color:#0550ae">5</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//连接建立超时时间，默认5秒。</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">ReadTimeout</span><span style="color:#1f2328">:</span>  <span style="color:#0550ae">3</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//读超时，默认3秒， -1表示取消读超时</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">WriteTimeout</span><span style="color:#1f2328">:</span> <span style="color:#0550ae">3</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//写超时，默认等于读超时</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">PoolTimeout</span><span style="color:#1f2328">:</span>  <span style="color:#0550ae">4</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//当所有连接都处在繁忙状态时，客户端等待可用连接的最大等待时长，默认为读超时+1秒。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//闲置连接检查包括IdleTimeout，MaxConnAge</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">IdleCheckFrequency</span><span style="color:#1f2328">:</span> <span style="color:#0550ae">60</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//闲置连接检查的周期，默认为1分钟，-1表示不做周期性检查，只在客户端获取连接时对闲置连接进行处理。</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">IdleTimeout</span><span style="color:#1f2328">:</span>        <span style="color:#0550ae">5</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Minute</span><span style="color:#1f2328">,</span>  <span style="color:#57606a">//闲置超时，默认5分钟，-1表示取消闲置超时检查</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">MaxConnAge</span><span style="color:#1f2328">:</span>         <span style="color:#0550ae">0</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span>  <span style="color:#57606a">//连接存活时长，从创建开始计时，超过指定时长则关闭连接，默认为0，即不关闭存活时长较长的连接</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//命令执行失败时的重试策略</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">MaxRetries</span><span style="color:#1f2328">:</span>      <span style="color:#0550ae">0</span><span style="color:#1f2328">,</span>                      <span style="color:#57606a">// 命令执行失败时，最多重试多少次，默认为0即不重试</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">MinRetryBackoff</span><span style="color:#1f2328">:</span> <span style="color:#0550ae">8</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Millisecond</span><span style="color:#1f2328">,</span>   <span style="color:#57606a">//每次计算重试间隔时间的下限，默认8毫秒，-1表示取消间隔</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">MaxRetryBackoff</span><span style="color:#1f2328">:</span> <span style="color:#0550ae">512</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Millisecond</span><span style="color:#1f2328">,</span> <span style="color:#57606a">//每次计算重试间隔时间的上限，默认512毫秒，-1表示取消间隔</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//可自定义连接函数</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Dialer</span><span style="color:#1f2328">:</span> <span style="color:#cf222e">func</span><span style="color:#1f2328">(</span><span style="color:#1f2328">ctx</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">network</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">addr</span> <span style="color:#cf222e">string</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">net</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Conn</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">error</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#1f2328">netDialer</span> <span style="color:#0550ae">:=</span> <span style="color:#0550ae">&amp;</span><span style="color:#1f2328">net</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Dialer</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#1f2328">Timeout</span><span style="color:#1f2328">:</span>   <span style="color:#0550ae">5</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Second</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>				<span style="color:#1f2328">KeepAlive</span><span style="color:#1f2328">:</span> <span style="color:#0550ae">5</span> <span style="color:#0550ae">*</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Minute</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>			<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>			<span style="color:#cf222e">return</span> <span style="color:#1f2328">netDialer</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Dial</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;tcp&#34;</span><span style="color:#1f2328">,</span> <span style="color:#0a3069">&#34;127.0.0.1:6379&#34;</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#57606a">//钩子函数</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">OnConnect</span><span style="color:#1f2328">:</span> <span style="color:#cf222e">func</span><span style="color:#1f2328">(</span><span style="color:#1f2328">ctx</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">conn</span> <span style="color:#0550ae">*</span><span style="color:#1f2328">redis</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Conn</span><span style="color:#1f2328">)</span> <span style="color:#cf222e">error</span> <span style="color:#1f2328">{</span> <span style="color:#57606a">//仅当客户端执行命令时需要从连接池获取连接时，如果连接池需要新建连接时则会调用此钩子函数</span>
</span></span><span style="display:flex;"><span>			<span style="color:#1f2328">fmt</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Printf</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;conn=%v\n&#34;</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">conn</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>			<span style="color:#cf222e">return</span> <span style="color:#cf222e">nil</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">_</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">err</span> <span style="color:#0550ae">:=</span> <span style="color:#1f2328">Rdb</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Ping</span><span style="color:#1f2328">(</span><span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Background</span><span style="color:#1f2328">()).</span><span style="color:#6639ba">Result</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">if</span> <span style="color:#1f2328">err</span> <span style="color:#0550ae">!=</span> <span style="color:#cf222e">nil</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">log</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Print</span><span style="color:#1f2328">(</span><span style="color:#1f2328">err</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">fmt</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Println</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;redis 链接成功&#34;</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>一般这样就行</p>
<pre tabindex="0"><code>	Rdb = redis.NewClient(&amp;redis.Options{
		Addr:     &#34;127.0.0.1:6379&#34;,
		Password: &#34;123456&#34;, 
		DB:       0,        
	})
</code></pre><h3 id="字符串-1">字符串</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#cf222e">func</span> <span style="color:#6639ba">GetRedisValue</span><span style="color:#1f2328">(</span><span style="color:#1f2328">ctx</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">key</span> <span style="color:#cf222e">string</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">string</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">error</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">GetKey</span> <span style="color:#0550ae">:=</span> <span style="color:#1f2328">Rdb</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Get</span><span style="color:#1f2328">(</span><span style="color:#1f2328">ctx</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">key</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">if</span> <span style="color:#1f2328">GetKey</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Err</span><span style="color:#1f2328">()</span> <span style="color:#0550ae">!=</span> <span style="color:#cf222e">nil</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">return</span> <span style="color:#0a3069">&#34;&#34;</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">GetKey</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Err</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">return</span> <span style="color:#1f2328">GetKey</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Val</span><span style="color:#1f2328">(),</span> <span style="color:#cf222e">nil</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">func</span> <span style="color:#6639ba">SetRedisValue</span><span style="color:#1f2328">(</span><span style="color:#1f2328">ctx</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">key</span> <span style="color:#cf222e">string</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">value</span> <span style="color:#cf222e">string</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">expiration</span> <span style="color:#1f2328">time</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Duration</span><span style="color:#1f2328">)</span> <span style="color:#cf222e">error</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">SetKV</span> <span style="color:#0550ae">:=</span> <span style="color:#1f2328">Rdb</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Set</span><span style="color:#1f2328">(</span><span style="color:#1f2328">ctx</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">key</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">value</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">expiration</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">return</span> <span style="color:#1f2328">SetKV</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Err</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="集合-1">集合</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-GO" data-lang="GO"><span style="display:flex;"><span><span style="color:#cf222e">type</span> <span style="color:#1f2328">RedisSet</span> <span style="color:#cf222e">struct</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">Id</span>      <span style="color:#cf222e">int64</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">Object</span>  <span style="color:#cf222e">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">Conn</span>    <span style="color:#0550ae">*</span><span style="color:#1f2328">redis</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Client</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">Context</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">func</span> <span style="color:#6639ba">NewRedisSet</span><span style="color:#1f2328">(</span><span style="color:#1f2328">context</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">Objet</span> <span style="color:#cf222e">string</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">Id</span> <span style="color:#cf222e">int64</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">Conn</span> <span style="color:#0550ae">*</span><span style="color:#1f2328">redis</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Client</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">*</span><span style="color:#1f2328">RedisSet</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">return</span> <span style="color:#0550ae">&amp;</span><span style="color:#1f2328">RedisSet</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Id</span><span style="color:#1f2328">:</span>      <span style="color:#1f2328">Id</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Object</span><span style="color:#1f2328">:</span>  <span style="color:#1f2328">Objet</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Conn</span><span style="color:#1f2328">:</span>    <span style="color:#1f2328">Conn</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">Context</span><span style="color:#1f2328">:</span> <span style="color:#1f2328">context</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">func</span> <span style="color:#6639ba">Set</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">rs</span> <span style="color:#0550ae">:=</span> <span style="color:#6639ba">NewRedisSet</span><span style="color:#1f2328">(</span><span style="color:#1f2328">context</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Background</span><span style="color:#1f2328">(),</span> <span style="color:#0a3069">&#34;article:1&#34;</span><span style="color:#1f2328">,</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">Rdb</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">_</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">err</span> <span style="color:#0550ae">:=</span> <span style="color:#1f2328">rs</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Conn</span><span style="color:#1f2328">.</span><span style="color:#6639ba">SAdd</span><span style="color:#1f2328">(</span><span style="color:#1f2328">rs</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Context</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">rs</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Object</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">rs</span><span style="color:#1f2328">.</span><span style="color:#1f2328">Id</span><span style="color:#1f2328">).</span><span style="color:#6639ba">Result</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">if</span> <span style="color:#1f2328">err</span> <span style="color:#0550ae">!=</span> <span style="color:#cf222e">nil</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">fmt</span><span style="color:#1f2328">.</span><span style="color:#6639ba">Println</span><span style="color:#1f2328">(</span><span style="color:#1f2328">err</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="go操作mongodb">Go操作mongodb</h2>
<p>go操作mongodb离不开BSON</p>
<p>BSON是JSON的二进制格式。</p>
<p>在Go中mongo-driver/bson包下，有一个bson.go，里面描述了MongoDB中关于BSON得几种格式。</p>
<ul>
<li>第一种：bson.D：D（Document）格式代表了一个BSON文档。也是使用比较多的一种格式。</li>
</ul>
<pre tabindex="0"><code>bson.D{
    {&#34;foo&#34;, &#34;bar&#34;},
    {&#34;hello&#34;, &#34;world&#34;},
    {&#34;pi&#34;, 3.14159},
}
</code></pre><ul>
<li>第二种：bson.E：E（Element）格式代表了一个BSON文档的一个元素，通常在D内进行使用。</li>
</ul>
<pre tabindex="0"><code>bson.D{
  bson.E{Key: &#34;foo&#34;, Value: &#34;bar&#34;},
  bson.E{Key: &#34;hello&#34;, Value: &#34;world&#34;},
  bson.E{Key: &#34;pi&#34;, Value: 3.14159},
}
</code></pre><ul>
<li>第三种：bson.M：M（Map）格式也代表了一个BSON文档，与D不同的是，D是有序的，M是无序的（可以理解为Map）。</li>
</ul>
<pre tabindex="0"><code>bson.M{
  &#34;foo&#34;: &#34;bar&#34;,
  &#34;hello&#34;: &#34;world&#34;, 
  &#34;pi&#34;: 3.14159,
}
</code></pre><ul>
<li>第四种：bson.A：A（Array）格式代表了一个BSON数组。</li>
</ul>
<pre tabindex="0"><code>bson.A{
  &#34;bar&#34;,
  &#34;world&#34;,
  3.14159,
  bson.D{{&#34;qux&#34;, 12345}},
}
</code></pre><p>安装MongoDB的Go驱动</p>
<pre tabindex="0"><code>go get go.mongodb.org/mongo-driver/mongo
go get go.mongodb.org/mongo-driver/bson
</code></pre><p>创建一个MongoDB客户端实例</p>
<pre tabindex="0"><code>package main

import (
	&#34;context&#34;
	&#34;go.mongodb.org/mongo-driver/mongo&#34;
	&#34;go.mongodb.org/mongo-driver/mongo/options&#34;
	&#34;log&#34;
)

func main() {
	client, err := mongo.Connect(context.TODO(), options.Client().ApplyURI(&#34;mongodb://localhost:27017&#34;))
	if err != nil {
		log.Fatalln(err)
	}
}

验证身份
client, err := mongo.Connect(context.TODO(),
                         		 options.Client().
                                 // 连接地址
                             		 ApplyURI(&#34;mongodb://root:123456@ip:port&#34;))
</code></pre><p>创建一个MongoDB集合实例</p>
<p>连接到MongoDB数据库后，你需要从client 实例中创建一个Collection 实例，你将使用它来执行查询。</p>
<pre tabindex="0"><code>collection := client.Database(&#34;test&#34;).Collection(&#34;people&#34;)
</code></pre><p>这段代码从我们本地MongoDB数据库的&quot;testing&quot; 数据库中检索&quot;users&quot; 集合。如果在检索数据库或集合之前不存在，MongoDB将自动创建它。</p>
<h4 id="在mongodb中创建新文档">在MongoDB中创建新文档</h4>
<p>为了在MongoDB集合中创建新文档，数据库客户端提供了一个<code>InsertOne()</code> 方法，允许插入单个文档，以及一个<code>InsertMany()</code> 方法来插入多个文档。</p>
<pre tabindex="0"><code>插入单个文档
	user := bson.D{{&#34;Name&#34;, &#34;zhangsan&#34;}, {&#34;age&#34;, 30}}
	res, err := collection.InsertOne(context.Background(), user)
	if err != nil {
		log.Fatalln(err)
	}
	fmt.Println(res.InsertedID)


插入多个文档
	users := []interface{}{
		bson.D{{&#34;Name&#34;, &#34;lisi&#34;}, {&#34;age&#34;, 25}},
		bson.D{{&#34;Name&#34;, &#34;wangwu&#34;}, {&#34;age&#34;, 20}},
		bson.D{{&#34;Name&#34;, &#34;zhaoliu&#34;}, {&#34;age&#34;, 28}},
	}
	result, err := collection.InsertMany(context.Background(), users)
	if err != nil {
		log.Fatalln(err)
	}
	fmt.Println(result.InsertedIDs)
</code></pre><h4 id="从mongodb读取文档">从MongoDB读取文档</h4>
<p>为了从MongoDB集合中检索文档，数据库客户端提供了一个Find() 方法，用于返回符合搜索过滤器的所有文档，以及一个FindOne() 方法，仅返回符合过滤器的第一个文档。</p>
<pre tabindex="0"><code>	// 建立查询 （无查询条件）
	cursor, err := collection.Find(context.Background(), bson.D{})
	if err != nil {
		log.Println(err)
		return
	}
	var results []bson.M
	if err = cursor.All(context.TODO(), &amp;results); err != nil {
		panic(err)
	}

	for _, result := range results {
		fmt.Println(result)
	}

filter := bson.D{
        {&#34;$and&#34;,
                bson.A{
                        bson.D{
                                {&#34;age&#34;, bson.D{{&#34;$gt&#34;, 25}}},
                        },
                },
        },
}

cursor, err := usersCollection.Find(context.TODO(), filter)
</code></pre><h2 id="作业">作业</h2>
<h3 id="lv0">Lv0</h3>
<p>将课上的redis 命令 和代码 自己敲一遍</p>
<h3 id="lv1">Lv1</h3>
<p>结合Gin 的作业</p>
<p>写一个获取用户信息的接口 做简单的缓存处理</p>
<h3 id="lv2">Lv2</h3>
<p>结合gin redis 写一个点赞功能的接口（只能点赞一次）</p>
<h3 id="lv3">Lv3</h3>
<p>结合Gin 的作业, 写一个获取用户信息的接口 做缓存层的处理在</p>
<p>结合场景思考这里的缓存适合什么策略。</p>
<p>1.缓存策略  2.数据一致性</p>
<h3 id="提交作业">提交作业</h3>
<p><strong>格式</strong> <code>第八次作业-学号-姓名-Lv？</code></p>
<p>发送到邮箱 <a href="mailto:2147584810@qq.com">2147584810@qq.com</a></p>

	<div class="td-page-meta__lastmod">
  最后修改 August 24, 2025: <a data-proofer-ignore href="https://github.com/CrazyForCode/course-backend-go-2025/commit/0193d50a744ff54c61877eff0c7c917ab98b51c0">fix:fix images (0193d50)</a>
</div>

</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/CrazyForCode/course-backend-go-2025" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/CrazyForCode/course-backend-go-2025" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.js"></script>
<script defer src="/js/click-to-copy.js" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>